<!-- auth.component.html -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

<div class="container">
    <div class="auth-container">
        <h2>Identifiez-vous</h2>
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" action="/login" autocomplete="on">
            <div class="form-group">
                <label id="usernameLabel" for="username" class="active">Nom d'utilisateur</label>
                <input #usernameInput (focus)="activateLabel('usernameLabel')" (blur)="desactivateLabel($event, 'usernameLabel')" id="username" name="username" formControlName="username" type="text" autocomplete="username"  />
            </div>

            <div class="form-group">
                <label id="passwordLabel" for="password" class="active">Mot de passe</label>
                <input #passwordInput (focus)="activateLabel('passwordLabel')" (blur)="desactivateLabel($event, 'passwordLabel')" id="password" name="password" formControlName="password" type="password" autocomplete="current-password" />
            </div>

            @if (error) {
                <div class="error-message">{{ error }}</div>
            }
            <div class="center">
                <button type="submit" [disabled]="loading">Se connecter</button>
            </div>
            
        </form>

        <div>
            <p class="register-link">
                Pas encore de compte ?
                <a routerLink="/register">S'inscrire</a>
            </p>
        </div>
    </div>
</div>
  